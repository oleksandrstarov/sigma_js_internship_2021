(this.webpackJsonpsigma_js_internship_2021=this.webpackJsonpsigma_js_internship_2021||[]).push([[0],{19:function(e,t,c){},29:function(e,t,c){},37:function(e,t,c){},38:function(e,t,c){},40:function(e,t,c){},41:function(e,t,c){},42:function(e,t,c){},43:function(e,t,c){},44:function(e,t,c){},64:function(e,t,c){},70:function(e,t,c){},71:function(e,t,c){},72:function(e,t,c){"use strict";c.r(t);var s,n,a=c(1),r=c.n(a),i=c(30),o=c.n(i),l=(c(37),c(10)),j=c(3),u=c(2),d=c(16),m=(c(38),c(0));!function(e){e[e.dark=0]="dark",e[e.light=1]="light"}(n||(n={}));var h,b=(s={},Object(d.a)(s,n.dark,"/images/moon.svg"),Object(d.a)(s,n.light,"/images/sun.svg"),s),f=function(){var e=Object(a.useState)(n.light),t=Object(u.a)(e,2),c=t[0],s=t[1];return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("input",{checked:!!c,onChange:function(){s(c===n.light?n.dark:n.light)},className:"switch-checkbox",id:"switch-new",type:"checkbox"}),Object(m.jsx)("label",{className:"switch-label ".concat(n[c]),htmlFor:"switch-new",children:Object(m.jsx)("img",{src:b[c],alt:"icon",className:"switch-button"})})]})},O=(c(40),function(){var e=Object(a.useState)(""),t=Object(u.a)(e,2),c=t[0],s=t[1];return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("form",{onSubmit:function(e){e.preventDefault(),c.trim()&&console.log(c)},className:"search-form",children:[Object(m.jsx)("input",{value:c,onChange:function(e){s(e.target.value)},id:"search",type:"search",placeholder:"Search",className:"header-search"}),Object(m.jsx)("button",{type:"submit",children:Object(m.jsx)("img",{src:"/images/search-icon.svg",alt:"search-icon"})})]})})}),v=function(){var e=Object(a.useState)(!1),t=Object(u.a)(e,2),c=t[0],s=t[1],n=function(){window.pageYOffset>30?s(!0):s(!1)};return Object(a.useEffect)((function(){return window.addEventListener("scroll",n),function(){return window.removeEventListener("scroll",n)}}),[]),Object(m.jsx)("header",{className:c?"active":"",children:Object(m.jsxs)("div",{className:"container",children:[Object(m.jsx)("a",{href:"/",className:"header-logo",children:Object(m.jsx)("img",{src:window.innerWidth<992?"/images/logo-sm.svg":"/images/logo-xl.svg",alt:"logo"})}),Object(m.jsx)(O,{}),Object(m.jsxs)("a",{href:"/favorites",className:"header-nav-link",children:[Object(m.jsx)("span",{children:"Favorites"}),Object(m.jsx)("img",{src:"/images/heart.svg"})]}),Object(m.jsx)(f,{})]})})},g=function(e){var t=e.children;return Object(m.jsx)("div",{className:"container",children:t})},x=function(e){var t=e.href,c=e.children,s=e.className;return Object(m.jsx)("a",{href:t,className:"default-link ".concat(s||""),children:c||""})},p=(c(41),function(){return Object(m.jsx)("section",{className:"contacts",children:Object(m.jsx)(g,{children:Object(m.jsxs)("div",{className:"contacts-body",children:[Object(m.jsxs)("div",{className:"contacts-icons",children:[Object(m.jsx)(x,{href:"#!",className:"contacts-icon-link",children:Object(m.jsx)("img",{src:"/images/footerIcons/facebook.svg",alt:"facebook",className:"contacts-icon"})}),Object(m.jsx)(x,{href:"#!",className:"contacts-icon-link",children:Object(m.jsx)("img",{src:"/images/footerIcons/github.svg",alt:"github",className:"contacts-icon"})}),Object(m.jsx)(x,{href:"#!",className:"contacts-icon-link",children:Object(m.jsx)("img",{src:"/images/footerIcons/youtube.svg",alt:"youtube",className:"contacts-icon"})}),Object(m.jsx)(x,{href:"#!",className:"contacts-icon-link",children:Object(m.jsx)("img",{src:"/images/footerIcons/telegram.svg",alt:"telegram",className:"contacts-icon"})})]}),Object(m.jsxs)("div",{className:"contacts-details",children:[Object(m.jsx)("p",{className:"contacts-details-title",children:"Our Contacts"}),Object(m.jsxs)("div",{className:"contacts-info",children:[Object(m.jsx)(x,{className:"contacts-info-item",href:"tel:+88005553535",children:"Phone: +88005553535"}),Object(m.jsx)(x,{className:"contacts-info-item",href:"mailto:lorem@ipsum.com",children:"Email: lorem@ipsum.com"})]})]})]})})})}),N=(c(42),function(){return Object(m.jsx)("footer",{className:"footer",children:Object(m.jsx)(g,{children:Object(m.jsxs)("div",{className:"footer-body",children:[Object(m.jsx)("p",{className:"footer-details",children:"Created by students of sigma software"}),Object(m.jsx)("p",{className:"footer-details",children:"\xae All rights reserved"})]})})})}),w=(c(19),function(e){var t=e.children;return Object(m.jsx)("main",{className:"main",children:t})}),S=(c(43),function(e){var t=e.text,c=e.className;return Object(m.jsx)("h1",{className:"default-title ".concat(c),children:t})}),I=function(){var e=Object(a.useState)(!1),t=Object(u.a)(e,2),c=t[0],s=t[1];return Object(a.useEffect)((function(){var e=window.innerWidth;s(e<=992)}),[]),c},y=(c(44),function(e){var t=e.className,c=e.children,s=Object(a.useRef)(),n=Object(a.useRef)(),r=Object(a.useRef)(),i=Object(a.useState)(0),o=Object(u.a)(i,2),l=o[0],j=o[1],d=Object(a.useState)(!0),h=Object(u.a)(d,2),b=h[0],f=h[1],O=Object(a.useState)(!1),v=Object(u.a)(O,2),g=v[0],x=v[1],p=Object(a.useState)(!0),N=Object(u.a)(p,2),w=N[0],S=N[1],y=Object(a.useState)(0),A=Object(u.a)(y,2),k=A[0],_=A[1],R=I(),E=function(){var e=Number(!R),t=n.current.querySelectorAll(".slide").length+e;r.current.style.width="".concat(k/t*100,"%")};return Object(a.useEffect)((function(){var e;k||(_(Math.floor(n.current.clientWidth/210)),E()),e=l,s.current.style.transform="translateX(".concat(e,"px)"),function(){var e=s.current.clientWidth,t=n.current.clientWidth;x(l<=t+-e-60),f(l>=0)}(),S(s.current.clientWidth>n.current.clientWidth),E()}),[l,k]),Object(m.jsxs)("div",{ref:n,className:"default-slider ".concat(t),children:[w&&!b&&Object(m.jsx)("button",{className:"prev-arrow",onClick:function(){j(l+210),_(k-1)},children:Object(m.jsx)("img",{src:"/images/slider-arrow.svg",alt:"arrow"})}),Object(m.jsx)("div",{className:"progress-bar",children:Object(m.jsx)("div",{ref:r,className:"progress"})}),Object(m.jsx)("div",{className:"slider-list",ref:s,children:c}),w&&!g&&Object(m.jsx)("button",{className:"next-arrow",onClick:function(){j(l-210),_(k+1)},children:Object(m.jsx)("img",{src:"/images/slider-arrow.svg",alt:"arrow"})})]})}),A=c(9),k=c.n(A),_=c(12),R="api_key=157c2ade7d0b335008ae899a157d8967",E="https://image.tmdb.org/t/p/",F=c(31),C=c.n(F).a.create({baseURL:"".concat("https://api.themoviedb.org/3/")});!function(e){e[e.dark=0]="dark",e[e.light=1]="light"}(h||(h={}));var T,B={storeKey:"service",store:{history:[],favorites:[],theme:h.light}},L={getStore:function(){var e=localStorage.getItem(B.storeKey);return null!==e?JSON.parse(e):(this.setStore(),B.store)},setStore:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{history:[],favorites:[],theme:1};localStorage.setItem(B.storeKey,JSON.stringify(e))},switchTheme:function(){var e=this.getStore();return e.theme=e.theme===h.light?h.dark:h.light,this.setStore(e),e.theme},setFavoritesId:function(e){var t=this.getStore();t.favorites.includes(e)||t.favorites.push(e),this.setStore(t)},getFavoritsIdList:function(){return this.getStore().favorites},deleteFavoritsId:function(e){var t=this.getStore();t.favorites=t.favorites.filter((function(t){return t!==e})),this.setStore(t)},clearFavoritsIdList:function(){var e=this.getStore();e.favorites=[],this.setStore(e)},setHistoryId:function(e){var t=this.getStore();t.history.includes(e)&&t.history.push(e),this.setStore(t)},getHistoryIdList:function(){return this.getStore().history},deleteHistoryId:function(e){var t=this.getStore();t.history=t.history.filter((function(t){return t!==e})),this.setStore(t)},clearHistoryIdList:function(){B.store.history=[],this.setStore(B.store)},getDataByIds:function(e){var t=e.map((function(e){return"movie/".concat(e,"?").concat(R)})).map(function(){var e=Object(_.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.get(t).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return Promise.all(t)},getDataById:function(e){return Object(_.a)(k.a.mark((function t(){var c;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.get("movie/".concat(e,"?").concat(R));case 2:return c=t.sent,t.abrupt("return",c.data);case 4:case"end":return t.stop()}}),t)})))()},getPopularQueryList:function(){return Object(_.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.get("movie/popular?".concat(R,"&query"));case 2:return t=e.sent,e.abrupt("return",t.data.results);case 4:case"end":return e.stop()}}),e)})))()},getTopRatedList:function(){return Object(_.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.get("movie/top_rated?translations&".concat(R,"&region=US"));case 2:return t=e.sent,e.abrupt("return",t.data.results);case 4:case"end":return e.stop()}}),e)})))()},getSearchList:function(e){return Object(_.a)(k.a.mark((function t(){var c;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.get("search/movie?".concat(R,"&query=").concat(e));case 2:return c=t.sent,t.abrupt("return",c.data.results);case 4:case"end":return t.stop()}}),t)})))()},changeImgLinks:function(e,t){return"".concat(E).concat(t).concat(e)}},W=(c(64),function(e){var t=e.id,c=Object(a.useState)({poster_path:"",vote_count:"",title:"",vote_average:""}),s=Object(u.a)(c,2),n=s[0],r=s[1];return Object(a.useEffect)((function(){L.getDataById(t).then((function(e){r(e)}))}),[]),Object(m.jsxs)("div",{className:"small-cardInfo",children:[Object(m.jsx)("div",{className:" small-cardInfo__title",children:Object(m.jsx)(S,{text:n.title})}),Object(m.jsxs)("div",{className:"small-cardInfo__rate",children:[Object(m.jsxs)("div",{className:"small-cardInfo__rate-voters",children:["Voters",Object(m.jsx)("br",{}),n.vote_count]}),Object(m.jsxs)("div",{className:"small-cardInfo__rate-imdb",children:["IMDB",Object(m.jsx)("br",{}),n.vote_average]})]}),Object(m.jsx)("div",{className:"small-cardInfo__filter"}),Object(m.jsx)("div",{className:"small-cardInfo__img-wrapper",children:Object(m.jsx)("img",{src:"https://image.tmdb.org/t/p/w185".concat(n.poster_path),alt:n.title,className:"small-cardInfo__img"})}),Object(m.jsx)(l.b,{to:"/movie-details/".concat(n.id),children:Object(m.jsxs)("button",{className:"small-cardInfo__button",children:[Object(m.jsx)("p",{className:"small-cardInfo__button-text",children:"VIEW DETAILS"}),Object(m.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAmCAYAAACoPemuAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMHSURBVHgB3ZhbiE1RGMf/455Lxi3lku1aHtxlKIlRSjyRJoXyQilP4/KgxrypUXJq3jxRSkkiGSQllzxRIjPEOSbRwWRcwwzj/1lrt9bZnTl7rX329uBX/06ntda3v/Wt27cWkB4DqMFIiRokYzhVT62j6qjp1Hhtr4fqpJ5SHdQV6ioyZhF1nvpF9XkoT+WowPE7zhGbSrVQDZE2XVDReEa9pnqpWmoatZCaSU226hepo9Qx7XBVbKHewPT+A9VErYJbx2S426jflg0Z5gBVcMgy9gWqt7VIhszDa5Y96exSJOCwZeQltQLpcMCy+5la5tN4p9W4nZqCdJFIdWv7b6GiGUtAfYVZTZOQDSupn/o7d+EwX2/pyt+gVlWWNMKMzP5KFddbFffh33AZZr71u7AewQzhQLgjq012+fnwR+ZbuJU0l6tQBxOt7XBnENTeFnYoiXNtMHvkiGihhPEGdZOaAD92wSyYdwmcWw0TlA1ImW2W8ffUDPhR1G2PIAM2otS5eR5tb+t2F5ARa1HqnOuwtuo2L+SPTNzZ1Gb4M0z/TixT9gAqRRoHNW8ld3uIyuT1b41tpC9j3UE8e2BW9t+IyR4UwJ/vEdmMgcrJQs4gnjAtH42MkLNVeh1G66Bju2Zdv4gMiDrV7NH2hG7zGCkjThXgH6mQJ7rd2XKFkgY3wJ8A6qxM6tRcVDgO5Ujq0YVr4Ec7kg1fyHGY9H1stHAo1H3QdXmHyMouVOGU7IOvELPr2/m4T9TkercYyWi1vjmnv0qyhxRgLiBJb0SuyBWwV3/vdFzlepgenIQaqiwIYLaWPBw3+RyMczmkj7xzPNf2JXv1SUxxHca5c1CLIw3kgtOJKlaxOHIRpQ8jS5CcIdqJj5bNJiREnptaUJopXIJKhV2RBbSXumfZ+ETtQArIaZCPOCgPI6eorVDXfJk3o6D2pQXUbqjjpTvSTqbILKSI9LyxjIOuuk9tQoZI3iQXD8mxOmKckXK5XCyHJ0mfOm0kq5D0XCI6kvoBdcTIY14X/jf+APFTHrbQw5q7AAAAAElFTkSuQmCC",alt:"button Img",className:"small-cardInfo__button-img"})]})})]})}),Q=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),c=t[0],s=t[1];return Object(a.useEffect)((function(){L.getDataByIds(L.getFavoritsIdList()).then((function(e){s(e)}))}),[]),c.length?Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(g,{children:[Object(m.jsx)(S,{text:"Favorite movies"}),c.length&&Object(m.jsx)(y,{children:c.map((function(e){var t=e.id;return Object(m.jsx)("div",{className:"slide",children:Object(m.jsx)(W,{id:t})},t)}))})]})}):null},X=function(e){var t=e.children;return Object(m.jsxs)("div",{className:"wrapper",children:[Object(m.jsx)(v,{}),Object(m.jsx)(w,{children:t}),Object(m.jsx)(Q,{}),Object(m.jsx)(p,{}),Object(m.jsx)(N,{})]})},H=(c(29),function(e){var t=e.movie,c=I(),s=t.overview,n=t.title,a=t.poster_path,r=t.vote_average,i=t.backdrop_path,o=t.id,j="/images/star.svg",u="".concat(E,"original/").concat(a),d="".concat(E,"original/").concat(i),h=[j,j,j,j,j];return Object(m.jsxs)("div",{className:"movie-banner-body",children:[Object(m.jsxs)("div",{className:"movie-image-container",children:[Object(m.jsx)("img",{src:c?u:d,className:"movie-banner-image",alt:t.title}),Object(m.jsx)("div",{className:"movie-image-overlay"})]}),Object(m.jsxs)("div",{className:"movie-banner-details",children:[Object(m.jsx)("h3",{className:"movie-title",children:n}),Object(m.jsx)("p",{className:"movie-description ".concat(window.innerWidth<767?"text-overlow":""),children:s.length>=250?Object(m.jsxs)("span",{children:[s.slice(0,250),Object(m.jsx)(l.b,{className:"movie-read-more",to:"/movie-details/:".concat(o," "),children:Object(m.jsx)("span",{children:"...Read more"})})]}):s}),Object(m.jsxs)("div",{className:"movie-rating-container",children:[Object(m.jsxs)("p",{className:"movie-rating-box",children:[Object(m.jsx)("span",{className:"movie-rating",children:"IMDB"}),Object(m.jsx)("span",{className:"movie-rating movie-rating-number",children:r})]}),Object(m.jsx)("div",{className:"movie-rating-stars",children:h.map((function(e,t){return Object(m.jsx)("img",{src:e,alt:"icon star"},t)}))})]}),Object(m.jsxs)(l.b,{to:{pathname:"movie-details/".concat(o)},className:"movie-btn",children:[Object(m.jsx)("span",{className:"movie-btn-title",children:"View details"}),Object(m.jsx)("img",{src:"/images/btn-icon.png",alt:"btn icon",className:"movie-btn-icon"})]})]})]})}),D=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),c=t[0],s=t[1];Object(a.useEffect)((function(){L.getPopularQueryList().then((function(e){s(e)}))}),[]);var n=c[Math.floor(Math.random()*c.length)];return Object(m.jsx)("section",{className:"movie-banner",children:Object(m.jsx)(g,{children:n&&Object(m.jsx)(H,{movie:n})})})},M=function(){return Object(m.jsx)(D,{})},J=(c(70),function(e){var t=e.children,c=String(t),s=Object(a.useState)(!0),n=Object(u.a)(s,2),r=n[0],i=n[1];return c?Object(m.jsx)(m.Fragment,{children:c.length<250?c:Object(m.jsxs)("p",{children:[r?c.slice(0,250):c,Object(m.jsx)("span",{onClick:function(){i(!r)},className:"read-or-hide",children:r?" ...Read more":" Show less"})]})}):null});c(71);!function(e){e[e.w500=0]="w500"}(T||(T={}));var P=function(e){var t=Object(j.f)(),c=t.title,s=t.genre,n=e.pageTitle;return Object(m.jsxs)("div",{className:"movies-list",children:[Object(m.jsx)("h1",{children:n}),Object(m.jsxs)("p",{children:["title param: ",c]}),Object(m.jsxs)("p",{children:["genre param: ",s]})]})},V=[{path:"/",name:"Home",exact:!0,component:M},{path:"/movie-details/:id",name:"Movie details",exact:!1,component:function(e){var t=e.match,c=Object(a.useState)({poster_path:"",original_title:"",title:"",tagline:"",status:"",release_date:"",budget:"",popularity:"",vote_average:"",runtime:"",genres:[{id:null,name:""}],production_countries:[{name:""}],overview:""}),s=Object(u.a)(c,2),n=s[0],r=s[1],i=n.poster_path,o=n.original_title,l=n.title,j=n.tagline,d=n.status,h=n.release_date,b=n.budget,f=n.popularity,O=n.vote_average,v=n.runtime,g=n.genres,x=n.production_countries,p=n.overview,N=L.changeImgLinks(i,T[0]);Object(a.useEffect)((function(){L.getDataById(Number(t.params.id)).then((function(e){r(e)}))}),[]);var w=function(e,t){return Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:Object(m.jsxs)("h4",{children:[e,": "]})}),Object(m.jsx)("td",{children:Object(m.jsx)("p",{children:t})})]})};return Object(m.jsxs)("div",{className:"details-container",children:[Object(m.jsxs)("section",{className:"movie-wrapper",children:[Object(m.jsx)("div",{className:"movie-img",children:Object(m.jsx)("img",{src:N,alt:"poster"})}),Object(m.jsxs)("div",{className:"movie-details",children:[Object(m.jsx)("h1",{children:l}),Object(m.jsx)("div",{className:"general-info",children:Object(m.jsxs)("table",{children:[w("Original title",o),w("Tagline",j),w("release_date",h),w("Status",d),w("Budget",b),w("Country",x[0].name),w("Duration",v),w("IMDB",O),w("Popularity",f)]})})]})]}),Object(m.jsx)("div",{className:"genres",children:g&&g.map((function(e){return Object(m.jsx)("div",{children:e.name},e.id)}))}),Object(m.jsx)("div",{className:"hl"}),Object(m.jsx)("div",{className:"description",children:Object(m.jsx)(J,{children:p})}),Object(m.jsx)("div",{className:"hl"})]})}},{path:"/favorites/:page",name:"Favorites",exact:!1,component:function(){return Object(m.jsx)("div",{className:"favorites-wrapper",children:Object(m.jsx)(P,{pageTitle:"Favorites"})})}},{path:"/search-results/:title/:page",name:"Search results",exact:!1,component:function(){return Object(m.jsx)("div",{className:"search-wrapper",children:Object(m.jsx)(P,{pageTitle:"Search Results"})})}}];var q=function(){return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(l.a,{children:Object(m.jsx)(X,{children:Object(m.jsx)(j.c,{children:V.map((function(e){return Object(m.jsx)(j.a,{exact:e.exact,path:e.path,component:e.component})}))})})})})},U=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,73)).then((function(t){var c=t.getCLS,s=t.getFID,n=t.getFCP,a=t.getLCP,r=t.getTTFB;c(e),s(e),n(e),a(e),r(e)}))};o.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(q,{})}),document.getElementById("root")),U()}},[[72,1,2]]]);
//# sourceMappingURL=main.5f7f690e.chunk.js.map